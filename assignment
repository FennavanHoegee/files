__winc_id__ = "ae539110d03e49ea8738fd413ac44ba8"
__human_name__ = "files"

from functools import cache
from os import mkdir
import shutil
import os
import zipfile


def clean_cache():
    pad = "C:\\Users\\FennavanHoegee\\Documents\\Winc\\hello\\files\\cache"
    if os.path.exists(pad):
        shutil.rmtree(pad)
    os.makedirs(pad)


def cache_zip(zip_file_path, cache_dir_path):
    with zipfile.ZipFile(zip_file_path, "r") as zip:
        zip.printdir()
        print("unpacking")
        zip.extractall(cache_dir_path)
        print("Klaar")


def cached_files():
    pad = os.path.abspath(
        "C:\\Users\\FennavanHoegee\\Documents\\Winc\\hello\\files\\cache"
    )
    lijst_bestanden = []
    for bestand in os.listdir(pad):
        x = os.path.join(pad, bestand)
        if os.path.isfile(x):
            if not bestand in lijst_bestanden:
                lijst_bestanden.append(x)
    return lijst_bestanden


x = cached_files()


def find_password(x):
    word = "password"
    for i in x:
        with open(i, "r") as file:
            content = file.readlines()
            for line in content:
                if line.find(word) != -1:
                    yes = line
                    spatie_index = line.rfind(" ")
                    password = line[spatie_index + 1 :]
    return password

